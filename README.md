# Практическая работа 4: Асинхронность, Promises, Restful API

## Начало работы

Установите зависимости проекта:

`npm install`

После этого вам будут доступны следующие команды:

 - `npm run lint` - проверка качества вашего кода утилитой ESLint
 - `npm run test [test-file]` - запустить unit-тесты из указанного файла в консоли, например: `npm run test test/spec/task-1.spec.js`
 - `npm run test:all` - запуск всех unit-тестов в консоли
 - `npm run test -- --watch [test-file]`, `npm run test:all -- --watch` - запуск одного или всех unit-тестов в консоли, с автоматическим перезапуском при изменении исходного кода. Например: `npm run test -- --watch test/spec/task-1.spec.js`
 - `npm run test:browser` - запуск всех unit-тестов в браузере
 - `npm run start` - открывает в браузере страничку с необходимой для вашего кода разметкой. При изменении кода страничка автоматически перезагружается.
 
## Задания

### Задача 1
Напишите функцию `getJSON()`, которая получает на вход url
посылает HTTP-запрос `GET` на этот url
при получении ответа с сервера парсит полученные данные из формата JSON и резолвится с этими данными.
Функция возвращает промис.

Например:
```javascript
getJSON("article/11"); // -> Promise, разрешается в объект
// {name: "article", body: "article body"}
```
 
### Задача 2
Вызовите с помощью `window.fetch()` два endpoint'а параллельно:
```
GET /article/11
GET /article/11/comments
```
Верните из функции промис, который разрешится при выполнении обоих вызовов,
или будет отклонен если любой из вызовов получит отказ.

### Задача 3
Вызовите с помощью `getJSON` один endpoint:
```
GET article/11
```
Если он выполнился удачно, вызовите второй endpoint:
```
GET article/11/comments
```
Верните Promise, который разрешится с массивом из обоих полученных значений.
Например, если первый вызов вернул `"article content"`, а второй `"comments"`,
то результат должен выглядеть как `["article content", "comments"]`.
Кроме того, если первый вызов получит отказ, промис должен быть отклонен со значением
`Error("article fetch failed")`, если второй - отклонен со значением
`Error("comments fetch failed")`

### Задача 4
Иногда промисы используют для представления выбора пользователя в диалоговых окнах.
(e.g. "Точно ли вы хотите выйти, ведь при выходе вся ваша несохраненная работа будет потеряна, диск отформатирована, а в качестве аватарки в социальной сети установлено фото из паспорта? да/нет")
Мы ожидаем пока пользователь выберет кнопку, поэтому в представлении этого процесса как асинхронной операции есть некоторая логика.
Для реального проекта это пожалуй не самая хорошая идея, но для учебного задания - вполне.
Напишите функцию `showDialog(dialogId)`, которая показывает диалог с заданным HTML `id`, и возвращает промис.
Промис разрешается если пользователь нажал на кнопку "Yes", отклоняется если пользователь нажал "No".

### Задача 5
Напишите класс `Cart`, который представляет корзину покупок (опять!).
Список покупок теперь, однако, будет сохраняться на сервере.
Класс `Cart` может выполнять CRUD операции над содержимым списка покупок

### Задача 6
 - Магазин в MVC стиле
 
### Задача 7 (*)
Promise.some
http://bluebirdjs.com/docs/api/promise.some.html
